<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dashboard | Ashein Host</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <style>
    body {
      background: radial-gradient(ellipse at bottom, #0f172a 0%, #0a0a23 100%);
    }
    .glow-box {
      box-shadow: 0 0 12px #38bdf8, 0 0 20px #0ea5e9;
    }
  </style>
</head>
<body class="text-white min-h-screen py-10 px-4">
  <div class="max-w-4xl mx-auto space-y-8">
    <!-- Profile Info & Coin Stats -->
    <div class="flex flex-wrap gap-4 justify-between items-start">
      <div class="flex-1 bg-gray-800 p-6 rounded-xl glow-box">
        <h2 class="text-xl font-semibold text-cyan-300 mb-4">👤 Profile</h2>
        <p class="text-gray-300 mb-1">Email: <span id="user-email">Loading...</span></p>
        <p class="text-gray-300 mb-1">Username: <span id="username">Loading...</span></p>
        <p class="text-gray-300">Referral Code: <span id="referral">Loading...</span></p>
      </div><div class="flex-1 bg-gray-800 p-6 rounded-xl glow-box">
    <h2 class="text-xl font-semibold text-yellow-300 mb-4">💰 Coin System</h2>
    <p class="text-gray-300 mb-2">Balance: <span id="coin-balance">0</span> Coins</p>
    <p class="text-sm text-gray-400">10 Coins per Bot Deployment</p>
  </div>
</div>

<!-- Create Bot Form -->
<div class="bg-gray-800 p-6 rounded-xl glow-box">
  <h2 class="text-xl font-semibold text-cyan-300 mb-4">🚀 Create New Bot</h2>
  <form id="bot-form" class="space-y-4">
    <input type="text" id="bot-name" placeholder="Bot Name" required class="w-full p-3 rounded bg-gray-900 text-white outline-none focus:ring-2 ring-cyan-500">
    <textarea id="bot-desc" rows="3" placeholder="Description" required class="w-full p-3 rounded bg-gray-900 text-white outline-none focus:ring-2 ring-cyan-500"></textarea>
    <button type="submit" class="w-full py-3 bg-cyan-500 hover:bg-cyan-600 rounded font-semibold">
      Create Bot
    </button>
  </form>
</div>

<!-- Bot List -->
<div class="bg-gray-800 p-6 rounded-xl glow-box">
  <h2 class="text-xl font-semibold text-cyan-300 mb-4">🤖 Your Bots</h2>
  <ul id="bot-list" class="space-y-3"></ul>
</div>

<!-- Referral Program -->
<div class="bg-gray-800 p-6 rounded-xl glow-box">
  <h2 class="text-xl font-semibold text-purple-400 mb-4">🎁 Referral Program</h2>
  <p class="mb-2">Share your referral code with friends to earn 10 coins each!</p>
  <div class="flex items-center gap-2">
    <input readonly id="referral-code" class="flex-1 p-2 bg-gray-700 rounded" value="Loading...">
    <button onclick="copyReferral()" class="bg-purple-600 px-3 py-1 rounded">Copy</button>
  </div>
</div>

<!-- Daily Reward + Coin Transfer -->
<div class="grid md:grid-cols-2 gap-4">
  <div class="bg-gray-800 p-6 rounded-xl glow-box">
    <h2 class="text-xl font-semibold text-green-400 mb-4">📅 Daily Reward</h2>
    <button id="claim-reward" class="w-full py-3 bg-green-500 hover:bg-green-600 rounded">Claim 10 Coins</button>
    <p class="mt-2 text-sm text-gray-400">Claim once every 24 hours</p>
  </div>

  <div class="bg-gray-800 p-6 rounded-xl glow-box">
    <h2 class="text-xl font-semibold text-blue-400 mb-4">🔁 Transfer Coins</h2>
    <form id="transfer-form" class="space-y-2">
      <input type="email" id="recipient" placeholder="Recipient Email" required class="w-full p-2 rounded bg-gray-900">
      <input type="number" id="amount" placeholder="Amount" required class="w-full p-2 rounded bg-gray-900">
      <button type="submit" class="w-full bg-blue-500 hover:bg-blue-600 rounded py-2">Transfer</button>
    </form>
  </div>
</div>

<!-- Logout -->
<div class="text-center">
  <button id="logout" class="bg-red-500 hover:bg-red-600 px-6 py-2 rounded font-semibold mt-6">
    Logout
  </button>
</div>

  </div>  <script>
    const { createClient } = supabase;
    const supabaseUrl = 'https://gwraaxzunyibwvbrefji.supabase.co';
    const supabaseKey = 'YOUR_KEY_HERE';
    const client = createClient(supabaseUrl, supabaseKey);

    let currentUser = null;

    async function loadDashboard() {
      const { data: sessionData } = await client.auth.getSession();
      if (!sessionData.session) return (window.location.href = 'login.html');

      currentUser = sessionData.session.user;
      document.getElementById("user-email").textContent = currentUser.email;
      document.getElementById("username").textContent = currentUser.user_metadata.username || "AsheinUser";
      document.getElementById("referral").textContent = currentUser.user_metadata.referral_code || "ashein_000";
      document.getElementById("referral-code").value = currentUser.user_metadata.referral_code || "ashein_000";

      // Fetch coins, bots, etc.
      document.getElementById("coin-balance").textContent = 20; // dummy
    }

    function copyReferral() {
      const code = document.getElementById("referral-code");
      navigator.clipboard.writeText(code.value);
      alert("Referral code copied!");
    }

    document.getElementById("logout").onclick = async () => {
      await client.auth.signOut();
      window.location.href = 'login.html';
    };

    loadDashboard();
  </script></body>
                                                                         </html>
